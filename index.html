<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matka Desi Delights | Artisanal Milkshakes</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="video-intro" id="videoIntro">
        <video id="introVideo" muted playsinline>
            <source src="media/intro-video.mp4" type="video/mp4">
            <source src="media/intro-video.webm" type="video/webm">
            Your browser does not support the video tag.
        </video>
        <button class="skip-btn" id="skipIntro">
            Skip Intro
        </button>
    </div>

    <div class="background-elements">
        <div class="bg-circle circle-1"></div>
        <div class="bg-circle circle-2"></div>
        <div class="bg-circle circle-3"></div>
        <div class="bg-circle circle-4"></div>
    </div>

    <header class="glass-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-image">
                        <img src="media/matka_logo_nobg.png" alt="Matka Desi Delights" class="logo-img">
                    </div>
                </div>
                
                <nav class="nav-menu">
                    <a href="#home" class="nav-link active">Home</a>
                    <a href="#menu" class="nav-link">Menu</a>
                    <a href="#about" class="nav-link">About</a>
                    <a href="contact.html" class="nav-link">Contact</a>
                    <a href="#order" class="nav-cta glass-button">Order Now</a>
                </nav>
                
                <button class="menu-toggle" id="menuToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <div class="hero-logo">
                        <img src="media/matka_logo_nobg.png" alt="Matka Desi Delights" class="hero-logo-img">
                    </div>
                    <h1 class="hero-title">Crafted <span class="accent-text">Perfection</span> in Every Sip</h1>
                    <p class="hero-description">Experience the finest blend of traditional Indian flavors with contemporary craftsmanship. Our milkshakes are meticulously prepared using premium ingredients and served in authentic matkas.</p>
                    <div class="hero-buttons">
                        <a href="#menu" class="glass-button primary-btn">
                            <i class="fas fa-list"></i>
                            View Menu
                        </a>
                        <a href="#order" class="glass-button secondary-btn">
                            <i class="fas fa-bolt"></i>
                            Order Now
                        </a>
                    </div>
                </div>
                
                <div class="hero-visual">
                    
                    <div class="glass-card product-card">
                        <div class="product-image-main-container">
                            <img src="media/kitkat.jpg" alt="Kitkat Oreo Shake" class="product-card-img">
                        </div>
                        <h3 class="product-title"> Kitkat-Oreo Shake</h3>
                        <p class="product-price">â‚¹120</p>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <section class="features">
        <div class="container">
            <div class="section-header">
                <h2>Why Choose Our Milkshakes</h2>
                <p>We are committed to delivering exceptional quality and taste</p>
            </div>
            <div class="features-grid">
                <div class="glass-card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-leaf"></i>
                    </div>
                    <h3>Fresh Ingredients</h3>
                    <p>We source only the freshest fruits and highest quality ingredients for every preparation</p>
                </div>
                <div class="glass-card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-mortar-pestle"></i>
                    </div>
                    <h3>Traditional Recipes</h3>
                    <p>Authentic recipes passed down through generations, perfected for modern taste</p>
                </div>
                <div class="glass-card feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-glass-whiskey"></i>
                    </div>
                    <h3>Eco-Friendly Serving</h3>
                    <p>Served in traditional matkas that enhance flavor and are environmentally conscious</p>
                </div>
            </div>
        </div>
    </section>

    <section class="menu-section" id="menu">
        <div class="container">
            <div class="section-header">
                <h2>Our Premium Collection</h2>
                <p>Discover our carefully crafted selection of artisanal milkshakes</p>
            </div>
            
            <div class="carousel-container">
                <div class="carousel-track" id="carouselTrack">
                    
                    

                    <div class="carousel-slide">
                        <img src="media/vanilla.jpg" alt="Tharkhi Vanilla Banner" class="menu-banner-img">
                    </div>

                    <div class="carousel-slide">
                        <img src="media/coffee.jpg" alt="Sassy Coffee Banner" class="menu-banner-img">
                    </div>

                    <div class="carousel-slide">
                        <img src="media/banana.jpg" alt="Banana Almond Bliss Banner" class="menu-banner-img">
                    </div>
                    
                </div>
                
                <button class="carousel-btn carousel-prev" id="carouselPrev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="carousel-btn carousel-next" id="carouselNext">
                    <i class="fas fa-chevron-right"></i>
                </button>
                
                <div class="carousel-indicators" id="carouselIndicators">
                    <button class="indicator active" data-index="0"></button>
                    <button class="indicator" data-index="1"></button>
                    <button class="indicator" data-index="2"></button>
                    <button class="indicator" data-index="3"></button>
                </div>
            </div>
        </div>
    </section>

    <section class="about" id="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>Our Heritage & Craft</h2>
                    <p>Matka Desi Delights was founded with a vision to preserve and celebrate India's rich culinary heritage through the art of milkshake making. Our journey began in 2020, and since then, we have been dedicated to creating exceptional taste experiences.</p>
                    
                    <div class="about-features">
                        <div class="about-feature">
                            <i class="fas fa-history"></i>
                            <div>
                                <h4>Traditional Methods</h4>
                                <p>We honor time-tested preparation techniques while incorporating modern quality standards</p>
                            </div>
                        </div>
                        <div class="about-feature">
                            <i class="fas fa-award"></i>
                            <div>
                                <h4>Quality Assurance</h4>
                                <p>Every ingredient is carefully selected and every preparation is meticulously supervised</p>
                            </div>
                        </div>
                        <div class="about-feature">
                            <i class="fas fa-recycle"></i>
                            <div>
                                <h4>Sustainable Practices</h4>
                                <p>We are committed to environmentally responsible operations and packaging</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="about-visual">
                    <div class="glass-card stats-card">
                        <div class="stat-item">
                            <h3>4.8</h3>
                            <p>Customer Rating</p>
                        </div>
                        <div class="stat-item">
                            <h3>50+</h3>
                            <p>Unique Flavors</p>
                        </div>
                        <div class="stat-item">
                            <h3>10K+</h3>
                            <p>Happy Customers</p>
                        </div>
                        <div class="stat-item">
                            <h3>15min</h3>
                            <p>Average Prep Time</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="cta" id="order">
        <div class="container">
            <div class="cta-content glass-card">
                <div class="cta-logo">
                    <img src="media/matka_logo_nobg.png" alt="Matka Desi Delights" class="cta-logo-img">
                </div>
                <h2>Ready to Experience Perfection?</h2>
                <p>Place your order now and have our artisanal milkshakes delivered to your doorstep</p>
                <div class="cta-buttons">
                    <button class="glass-button primary-btn large">
                        <i class="fas fa-mobile-alt"></i>
                        Order via App
                    </button>
                    <button class="glass-button secondary-btn large">
                        <i class="fas fa-phone"></i>
                        Call to Order
                    </button>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <img src="media/matka_logo_nobg.png" alt="Matka Desi Delights" class="footer-logo-img">
                    </div>
                    <p class="footer-description">Crafting exceptional milkshake experiences through tradition, quality, and innovation.</p>
                    <div class="social-links">
                        <a href="https://www.instagram.com/matka_desidelights?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <a href="#home">Home</a>
                    <a href="#menu">Our Menu</a>
                    <a href="#about">Our Story</a>
                    <a href="contact.html">Contact Us</a>
                </div>
                
                <div class="footer-section">
                    <h4>Contact Information</h4>
                    <div class="contact-info">
                        <p><i class="fas fa-map-marker-alt"></i> Ward No.9, station feeder road SMC Stall No.7, opposite of fire station, siliguri, west bengal, 734005</p>
                        <p><i class="fas fa-phone"></i> +91 8927252245</p>
                        <p><i class="fas fa-envelope"></i> contact@matkadelights.com</p>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Business Hours</h4>
                    <div class="business-hours">
                        <p>Monday - Sunday: 6:00 PM - 11:00 PM </p>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2023 Matka Desi Delights. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // --- Video Intro ---
        const videoIntro = document.getElementById('videoIntro');
        const introVideo = document.getElementById('introVideo');
        const skipIntro = document.getElementById('skipIntro');

        introVideo.play().catch((error) => {
            console.log('Video play failed:', error);
            hideIntro(); 
        });
        introVideo.addEventListener('ended', hideIntro);
        skipIntro.addEventListener('click', hideIntro);

        function hideIntro() {
            videoIntro.style.display = 'none';
            // IMPORTANT: Initialize first, then start auto slide
            initCarousel(); 
            startAutoSlide(); 
        }

        // --- Mobile Menu ---
        document.getElementById('menuToggle').addEventListener('click', function() {
            this.classList.toggle('active');
            document.querySelector('.nav-menu').classList.toggle('active');
        });

        // --- Carousel Variables ---
        let currentSlideIndex = 0; // Represents the *logical* index (0 to N-1)
        let totalSlides = 0; // The count of *original* slides
        let slides = []; // Array of actual slide elements
        let track = null;
        let indicators = [];
        let autoSlideInterval = null;
        let isCarouselInitialized = false;
        let slideWidth = 0; // Width of a single slide
        let isTransitioning = false; // Flag to prevent rapid clicks

        // --- Carousel Initialization ---
        function initCarousel() {
            if (isCarouselInitialized) return;

            track = document.getElementById('carouselTrack');
            indicators = document.querySelectorAll('.indicator');
            const originalSlides = document.querySelectorAll('.carousel-slide');
            totalSlides = originalSlides.length;

            if (!track || totalSlides === 0) {
                console.error("Carousel track not found or no slides.");
                return; // Exit if no carousel or slides
            }

            isCarouselInitialized = true;

            // 1. Create clones for infinite loop
            const firstClone = originalSlides[0].cloneNode(true);
            const lastClone = originalSlides[totalSlides - 1].cloneNode(true);

            // 2. Add clones to the track
            track.appendChild(firstClone);
            track.insertBefore(lastClone, originalSlides[0]);

            // 3. Update slides array to include clones
            slides = Array.from(track.children); // Use Array.from for easier handling

            // 4. Initial setup
            currentSlideIndex = 0; // Start logically at the first slide
            updateSlideWidth();
            positionTrackToIndex(currentSlideIndex + 1, false); // Position to the first *real* slide (index 1)

            // 5. Add event listeners
            track.addEventListener('transitionend', handleTransitionEnd);
            document.getElementById('carouselNext').addEventListener('click', handleNextClick);
            document.getElementById('carouselPrev').addEventListener('click', handlePrevClick);
            
            indicators.forEach(indicator => {
                indicator.addEventListener('click', () => {
                    stopAutoSlide();
                    goToSlide(parseInt(indicator.getAttribute('data-index')));
                    startAutoSlide();
                });
            });
            
            const carouselContainer = document.querySelector('.carousel-container');
            if (carouselContainer) {
                carouselContainer.addEventListener('mouseenter', stopAutoSlide);
                carouselContainer.addEventListener('mouseleave', startAutoSlide);
            }

            window.addEventListener('resize', handleResize);
        }

        // --- Carousel Helper Functions ---
        function updateSlideWidth() {
            if (!isCarouselInitialized) return;
            slideWidth = slides[0].getBoundingClientRect().width;
        }

        function positionTrackToIndex(slideIndex, withTransition = true) {
            if (!isCarouselInitialized) return;
            updateSlideWidth(); // Recalculate width just in case
            track.style.transition = withTransition ? 'transform 0.5s ease-in-out' : 'none';
            track.style.transform = `translateX(-${slideWidth * slideIndex}px)`;
        }

        function updateIndicators(logicalIndex) {
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === logicalIndex);
            });
        }

        // --- Carousel Event Handlers ---
        function handleNextClick() {
            if (isTransitioning) return; // Prevent clicking during animation
            stopAutoSlide();
            nextSlide();
            startAutoSlide();
        }

        function handlePrevClick() {
            if (isTransitioning) return; // Prevent clicking during animation
            stopAutoSlide();
            prevSlide();
            startAutoSlide();
        }

        /** Logic after slide transition finishes - Jumps if on a clone */
        function handleTransitionEnd() {
            isTransitioning = false; // Allow clicks again
            const currentTrackIndex = getCurrentTrackIndex(); // Get the index including clones

            if (currentTrackIndex === 0) { // If landed on the *first* (prepended) clone
                currentSlideIndex = totalSlides - 1; // Logical index is the last slide
                positionTrackToIndex(totalSlides, false); // Jump to the *real* last slide
            } else if (currentTrackIndex === totalSlides + 1) { // If landed on the *last* (appended) clone
                currentSlideIndex = 0; // Logical index is the first slide
                positionTrackToIndex(1, false); // Jump to the *real* first slide
            }
        }

        function handleResize() {
            if (!isCarouselInitialized) return;
            updateSlideWidth();
            positionTrackToIndex(currentSlideIndex + 1, false); // Reposition without transition
        }

        /** Helper to get the current index including clones */
        function getCurrentTrackIndex() {
            // Very simplified based on currentSlideIndex and totalSlides
            // Assumes jumps happen correctly in handleTransitionEnd
            return currentSlideIndex + 1; 
        }

        // --- Main Carousel Functions ---
        function nextSlide() {
            if (!isCarouselInitialized || isTransitioning) return;
            isTransitioning = true;
            currentSlideIndex = (currentSlideIndex + 1) % totalSlides; // Update logical index
            positionTrackToIndex(getCurrentTrackIndex() + 1, true); // Move track to next position
            updateIndicators(currentSlideIndex);
        }

        function prevSlide() {
            if (!isCarouselInitialized || isTransitioning) return;
            isTransitioning = true;
            currentSlideIndex = (currentSlideIndex - 1 + totalSlides) % totalSlides; // Update logical index
            positionTrackToIndex(getCurrentTrackIndex() - 1, true); // Move track to previous position
            updateIndicators(currentSlideIndex);
        }

        function goToSlide(logicalIndex) {
            if (!isCarouselInitialized || isTransitioning || logicalIndex < 0 || logicalIndex >= totalSlides) return;
            isTransitioning = true;
            currentSlideIndex = logicalIndex;
            positionTrackToIndex(currentSlideIndex + 1, true); // +1 for prepended clone
            updateIndicators(currentSlideIndex);
        }

        function startAutoSlide() {
            if (isCarouselInitialized && totalSlides > 0 && !autoSlideInterval) {
                autoSlideInterval = setInterval(nextSlide, 5000); // 5 seconds
            }
        }

        function stopAutoSlide() {
            clearInterval(autoSlideInterval);
            autoSlideInterval = null;
        }

        // --- Initialize on Load ---
        window.addEventListener('load', function() {
            // Only initialize if video isn't playing (or doesn't exist)
            if (!videoIntro || videoIntro.style.display === 'none') {
                 initCarousel();
                 startAutoSlide();
            }
        });

        // --- Other functions (safe to leave) ---
        // (Menu filtering, Add to cart, Notification, Smooth scroll)
        document.querySelectorAll('.category-filter').forEach(button => { /* ... */ });
        document.querySelectorAll('.add-to-cart').forEach(button => { /* ... */ });
        function showNotification(message) { /* ... */ }
        document.querySelectorAll('a[href^="#"]').forEach(anchor => { /* ... */ });

    </script>
</body>
</html>